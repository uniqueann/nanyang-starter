import{E as e,R as a,n as i,o as s,c as n,w as t,i as r,b as l,e as o,r as d,F as c,k as u,t as g,m as p,a6 as f,j as h,p as m,l as b,a7 as _}from"./index.a6ab672a.js";import{_ as k}from"./unicloud-db.1f2c81de.js";import{r as x}from"./uni-app.es.99d2207b.js";import{_ as w,a as L}from"./uni-grid.646d17be.js";import{_ as y}from"./_plugin-vue_export-helper.cdc0426e.js";const v=y({data:()=>({gridList:[],current:0,hasLogin:!1}),onShow(){this.hasLogin=e.getCurrentUserInfo().tokenExpired>Date.now()},onLoad(){let e=[];for(var a=0;a<3;a++)e.push(this.$t("grid.visibleToAll"));for(a=0;a<3;a++)e.push(this.$t("grid.invisibleToTourists"));for(a=0;a<3;a++)e.push(this.$t("grid.adminVisible"));this.gridList=e},methods:{change(e){a({title:this.$t("grid.clickTip")+` ${e.detail.index+1} `+this.$t("grid.clickTipGrid"),icon:"none"})},onqueryload(e){},changeSwiper(e){this.current=e.detail.current},clickBannerItem(e){e.open_url&&i({url:"/uni_modules/uni-id-pages/pages/common/webview/webview?url="+e.open_url+"&title="+e.title,success:e=>{},fail:()=>{},complete:()=>{}})}}},[["render",function(e,a,i,y,v,C){const $=p,j=r,I=_,T=f,F=x(h("unicloud-db"),k),S=m,q=x(h("uni-grid-item"),w),B=x(h("uni-grid"),L);return s(),n(j,{class:"warp"},{default:t((()=>[l(F,{ref:"bannerdb",collection:"opendb-banner",field:"_id,bannerfile,open_url,title",onLoad:C.onqueryload},{default:t((({data:e,loading:a,error:i,options:r})=>[a||e.length?(s(),n(T,{key:1,class:"swiper-box",onChange:C.changeSwiper,current:v.current,"indicator-dots":""},{default:t((()=>[(s(!0),o(c,null,d(e,((e,a)=>(s(),n(I,{key:e._id},{default:t((()=>[l(j,{class:"swiper-item",onClick:a=>C.clickBannerItem(e)},{default:t((()=>[l($,{class:"banner-image",src:e.bannerfile.url,mode:"aspectFill",draggable:!1},null,8,["src"])])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:2},1032,["onChange","current"])):(s(),n($,{key:0,class:"banner-image",src:"/assets/headers.c816d0e0.png",mode:"aspectFill",draggable:!1}))])),_:1},8,["onLoad"]),l(j,{class:"section-box"},{default:t((()=>[l(S,{class:"decoration"}),l(S,{class:"section-text"},{default:t((()=>[u(g(e.$t("grid.grid")),1)])),_:1})])),_:1}),l(j,{class:"example-body"},{default:t((()=>[l(B,{column:3,highlight:!0,onChange:C.change},{default:t((()=>[(s(!0),o(c,null,d(v.gridList,((a,i)=>(s(),o(c,null,[i<3||i>2&&i<6&&v.hasLogin||i>5&&e.uniIDHasRole("admin")?(s(),n(q,{index:i,key:i},{default:t((()=>[l(j,{class:"grid-item-box",style:{"background-color":"#fff"}},{default:t((()=>[l(S,{class:"big-number"},{default:t((()=>[u(g(i+1),1)])),_:2},1024),l(S,{class:"text"},{default:t((()=>[u(g(a),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["index"])):b("",!0)],64)))),256))])),_:1},8,["onChange"])])),_:1})])),_:1})}],["__scopeId","data-v-f5ceace6"]]);export{v as default};
