import{D as e,C as a,n as i,o as s,c as n,w as t,i as r,b as l,e as o,r as d,F as c,k as u,t as g,m as p,S as f,j as h,p as m,l as _,R as b}from"./index-0982dc28.js";import{_ as k}from"./unicloud-db.9e3e3341.js";import{r as w}from"./uni-app.es.0abf17f1.js";import{_ as x,a as C}from"./uni-grid.389b4993.js";import{_ as L}from"./_plugin-vue_export-helper.1b428a4d.js";const y=L({data:()=>({gridList:[],current:0,hasLogin:!1}),onShow(){this.hasLogin=e.getCurrentUserInfo().tokenExpired>Date.now()},onLoad(){let e=[];for(var a=0;a<3;a++)e.push(this.$t("grid.visibleToAll"));for(a=0;a<3;a++)e.push(this.$t("grid.invisibleToTourists"));for(a=0;a<3;a++)e.push(this.$t("grid.adminVisible"));this.gridList=e},methods:{change(e){a({title:this.$t("grid.clickTip")+` ${e.detail.index+1} `+this.$t("grid.clickTipGrid"),icon:"none"})},onqueryload(e){},changeSwiper(e){this.current=e.detail.current},clickBannerItem(e){e.open_url&&i({url:"/uni_modules/uni-id-pages/pages/common/webview/webview?url="+e.open_url+"&title="+e.title,success:e=>{},fail:()=>{},complete:()=>{}})}}},[["render",function(e,a,i,L,y,v){const $=p,j=r,I=b,T=f,F=w(h("unicloud-db"),k),S=m,D=w(h("uni-grid-item"),x),q=w(h("uni-grid"),C);return s(),n(j,{class:"warp"},{default:t((()=>[l(F,{ref:"bannerdb",collection:"opendb-banner",field:"_id,bannerfile,open_url,title",onLoad:v.onqueryload},{default:t((({data:e,loading:a,error:i,options:r})=>[a||e.length?(s(),n(T,{key:1,class:"swiper-box",onChange:v.changeSwiper,current:y.current,"indicator-dots":""},{default:t((()=>[(s(!0),o(c,null,d(e,((e,a)=>(s(),n(I,{key:e._id},{default:t((()=>[l(j,{class:"swiper-item",onClick:a=>v.clickBannerItem(e)},{default:t((()=>[l($,{class:"banner-image",src:e.bannerfile.url,mode:"aspectFill",draggable:!1},null,8,["src"])])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:2},1032,["onChange","current"])):(s(),n($,{key:0,class:"banner-image",src:"/assets/headers-c816d0e0.png",mode:"aspectFill",draggable:!1}))])),_:1},8,["onLoad"]),l(j,{class:"section-box"},{default:t((()=>[l(S,{class:"decoration"}),l(S,{class:"section-text"},{default:t((()=>[u(g(e.$t("grid.grid")),1)])),_:1})])),_:1}),l(j,{class:"example-body"},{default:t((()=>[l(q,{column:3,highlight:!0,onChange:v.change},{default:t((()=>[(s(!0),o(c,null,d(y.gridList,((a,i)=>(s(),o(c,null,[i<3||i>2&&i<6&&y.hasLogin||i>5&&e.uniIDHasRole("admin")?(s(),n(D,{index:i,key:i},{default:t((()=>[l(j,{class:"grid-item-box",style:{"background-color":"#fff"}},{default:t((()=>[l(S,{class:"big-number"},{default:t((()=>[u(g(i+1),1)])),_:2},1024),l(S,{class:"text"},{default:t((()=>[u(g(a),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["index"])):_("",!0)],64)))),256))])),_:1},8,["onChange"])])),_:1})])),_:1})}],["__scopeId","data-v-6a9855d0"]]);export{y as default};
