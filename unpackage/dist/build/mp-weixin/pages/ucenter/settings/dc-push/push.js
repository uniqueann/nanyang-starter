"use strict";const n=require("../../../../common/vendor.js");function i(){var n=void 0;try{if("iOS"==plus.os.name){var i=0,e=plus.ios.invoke("UIApplication","sharedApplication"),t=plus.ios.invoke(e,"currentUserNotificationSettings");t?(i=t.plusGetAttribute("types"),plus.ios.deleteObject(t)):i=plus.ios.invoke(e,"enabledRemoteNotificationTypes"),plus.ios.deleteObject(e),n=0!=i}else{var o=plus.android.runtimeMainActivity(),s=plus.android.invoke("com.igexin.sdk.PushManager","getInstance");n=plus.android.invoke(s,"isPushTurnedOn",o)}}catch(r){console.error("exception in isTurnedOnPush@dc-push!!")}return n}function e(){try{if("iOS"==plus.os.name){var n=plus.ios.invoke("UIApplication","sharedApplication"),i=plus.ios.invoke("NSURL","URLWithString:","app-settings:");plus.ios.invoke(n,"openURL:",i),plus.ios.deleteObject(i),plus.ios.deleteObject(n)}}catch(e){console.error("exception in settingInIos@dc-push!!")}}const t={isOn:i,iosSetting:e,on:function(){try{if("iOS"==plus.os.name)i()||e();else{var n=plus.android.runtimeMainActivity(),t=plus.android.invoke("com.igexin.sdk.PushManager","getInstance");plus.android.invoke(t,"turnOnPush",n)}}catch(o){console.error("exception in turnOnPush@dc-push!!")}},off:function(){try{if("iOS"==plus.os.name);else{var n=plus.android.runtimeMainActivity(),i=plus.android.invoke("com.igexin.sdk.PushManager","getInstance");plus.android.invoke(i,"turnOffPush",n)}}catch(e){console.error("exception in trunOffPush@dc-push!!")}},setting:function(){"ios"==n.index.getSystemInfoSync().platform&&e(),"android"==n.index.getSystemInfoSync().platform&&function(){if("android"==n.index.getSystemInfoSync().platform){var i=plus.android.runtimeMainActivity(),e=new(plus.android.importClass("android.content.Intent"))(plus.android.importClass("android.provider.Settings").ACTION_APPLICATION_DETAILS_SETTINGS);i.startActivity(e)}}()}};exports.pushServer=t;
